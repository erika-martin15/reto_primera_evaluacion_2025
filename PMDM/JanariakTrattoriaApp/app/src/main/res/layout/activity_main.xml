<?xml version="1.0" encoding="utf-8"?>
<!-- Hemos construido esta aplicación utilizando principalmente Linear Layout. Hemos tomado esta decisión por el tipo de estructura
 que va a seguir la aplicación: de arriba a abajo, son elementos que se colocarán siempre en fila vertical.-->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:layout_marginBottom="?android:attr/actionBarSize"
    android:background="@color/fondo_claro">
    <!-- Según la anchura y la altura, esta aplicación ocupará todo el ancho/alto de la pantalla.
     Además, también vamos a decirle a la aplicación que queremos apilar los elementos de manera vertical, y también
     le damos un color de fondo a la aplicación (como queríamos usar colores de marca, los hemos metido todos dentro del colors.xml).-->

    <!-- Cabecera del carrito, que tendrá un color de fondo rojo.-->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/rojo"
        android:orientation="vertical"
        android:paddingTop="16dp"
        android:paddingBottom="16dp"
        android:elevation="4dp">

        <!-- Una única fila albergará el botón "volver" y el título del carrito. Esta fila será más pequeña que su padre (la cabecera).-->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:paddingStart="8dp"
            android:paddingEnd="16dp">

            <!-- Creamos el botón "volver" al login utilizando un vector, sobre todo para que sea más estético que un botón con texto.
              Para ello crearemos uno nuevo dentro de la carpeta "res" (/drawable). Aquí existe la opción de buscarlo dentro de los iconos Material.-->
            <ImageButton
                android:id="@+id/botonVolverLogin"
                android:layout_width="48dp"
                android:layout_height="48dp"
                android:src="@drawable/flecha_atras"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:contentDescription="@string/accesibilidad_boton_atras"
                app:tint="@color/texto_blanco" />
            <!-- Lo más raro de este apartado corresponde a la etiqueta "android:background". Al lanzar las primeras veces la aplicación nos dimos cuenta de que,
             al tener tantos apartados, cuando tocabas el botón de vuelta atrás no quedaba muy claro para el usuario si lo había pulsado o no.

             Buscando maneras de hacerlo más accesible, nos encontramos con esta opción que ofrece Material Design (lugar de donde hemos cogido el vector del botón).
             En pocas palabras, lo que hace este atributo es crear una pequeña animación circular, que recuerda a una onda.

             Por otro lado, la etiqueta "app:tint" cambiará el color del vector para que, en este caso, sea blanco (ya que combina mejor con nuestra aplicación)-->

            <!-- Título del menú. Este estará centrado en la cabecera (android:gravity="center"). El tamaño del ancho va a ser flexible, es decir, se
            adaptará al espacio que disponga según el tamaño de la pantalla (por eso está colocado el "0dp", esto hará que ignore este valor y pueda centrarse
            en el que realmente es importante). El atributo más importante para que este diseño sea adaptable adaptable se encuentra en el atributo
            "android:layout_weight=1": este le dice al TextView que ocupe TODO el espacio disponible entre el botón y el borde. -->
            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="@string/titulo_menu"
                android:textSize="28sp"
                android:textStyle="bold"
                android:textColor="@color/texto_blanco"
                android:gravity="center"
                android:fontFamily="sans-serif-medium"
                android:layout_marginEnd="48dp" />
        </LinearLayout>

        <!-- Otro nuevo concepto: el HorizontalScrollView. Este es un contenedor que permite desplazarse de izquierda a derecha, siempre que
        el contenido sea más ancho que la propia pantalla del dispositivo. En este caso, al ser un menú de navegación, no entraba de manera
        natural, es por eso que decidimos utilizarlo. Podría considerarse que forma parte de la familia del FrameLayout (toma sus características
        básicas y les añade la funcionalidad de desplazarse en horizontal).

        El atributo "android:scrollbars="none" hará que no se muestre ninguna barra de scroll, haciendo que el menú sea más estético.-->
        <HorizontalScrollView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:scrollbars="none"
            android:layout_marginTop="12dp"
            android:paddingStart="8dp"
            android:paddingEnd="8dp">

            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:orientation="horizontal">

                <!-- Creamos el botón que redirigirá a los "Entrantes" -->
                <Button
                    android:id="@+id/botonEntrantes"
                    style="@style/Widget.MaterialComponents.Button"
                    android:layout_width="wrap_content"
                    android:layout_height="48dp"
                    android:text="@string/categoria_entrantes"
                    android:textColor="@color/texto_blanco"
                    android:backgroundTint="@color/dorado"
                    android:layout_marginEnd="8dp"
                    app:cornerRadius="24dp"
                    android:paddingStart="20dp"
                    android:paddingEnd="20dp" />
                <!-- En este apartado encontramos dos conceptos nuevos: "style" y "cornerRadius".

                 El "estilo" que hemos puesto no es más que un estilo de botón predefinido en la librería Material Design Components
                 (pueden ser rellenos(el que se usa aquí, alta prioridad), con borde(outlined, prioridad media) o solo texto (text, baja prioridad)).

                 Android Studio lo incluye de manera automática cuando añades Material Design al proyecto. Con este estilo
                 puede cambiarse, a su vez, la redondez de las esquinas. Es para ello "cornerRadius". Utilizar un diseño predefinido ayuda a
                 mantener una consistencia a lo largo de la aplicación.-->

                <!-- "Principales" -->
                <Button
                    android:id="@+id/botonPrincipales"
                    style="@style/Widget.MaterialComponents.Button"
                    android:layout_width="wrap_content"
                    android:layout_height="48dp"
                    android:text="@string/categoria_principales"
                    android:textColor="@color/texto_blanco"
                    android:backgroundTint="@color/dorado"
                    android:layout_marginEnd="8dp"
                    app:cornerRadius="24dp"
                    android:paddingStart="20dp"
                    android:paddingEnd="20dp" />

                <!-- "Postres" -->
                <Button
                    android:id="@+id/botonPostres"
                    style="@style/Widget.MaterialComponents.Button"
                    android:layout_width="wrap_content"
                    android:layout_height="48dp"
                    android:text="@string/categoria_postres"
                    android:textColor="@color/texto_blanco"
                    android:backgroundTint="@color/dorado"
                    android:layout_marginEnd="8dp"
                    app:cornerRadius="24dp"
                    android:paddingStart="20dp"
                    android:paddingEnd="20dp" />

                <!-- "Bebidas" -->
                <Button
                    android:id="@+id/botonBebidas"
                    style="@style/Widget.MaterialComponents.Button"
                    android:layout_width="wrap_content"
                    android:layout_height="48dp"
                    android:text="@string/categoria_bebidas"
                    android:textColor="@color/texto_blanco"
                    android:backgroundTint="@color/dorado"
                    app:cornerRadius="24dp"
                    android:paddingStart="20dp"
                    android:paddingEnd="20dp" />

            </LinearLayout>
        </HorizontalScrollView>
    </LinearLayout>

    <!-- Ya que queremos hacer una lista dinámica y en clase se mencionó que el RecyclerView era más utilizado que el LinearView, decidimos usar este
     para el reto. Este permitirá que reutilicemos vistas para mostrar los productos.

     Ahora, como tenemos pocos, no nos daremos cuenta pero en caso de tener más de 10, solo creará las primeras 10 e irá reutilizando las mismas mientras
     hacemos scroll (consumiendo menos memoria). Además, es más rápido que el ListView. Este en concreto, contendrá todos los productos de la sección en la que nos encontremos.

     El atributo "android:clipToPadding="false"" permite que el contenido utilice, de manera efectiva, el área del padding (lo "invada" por decirlo de manera sencilla.)
     El padding seguirá existiendo, pero el contenido (en caso de que esté en false) podrá desplazarse a través de él.-->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerViewProductos"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:padding="12dp"
        android:clipToPadding="false" />

    <!-- Botón flotante del carrito -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/blanco"
        android:elevation="8dp"
        android:padding="12dp">

        <Button
            android:id="@+id/botonViewCarrito"
            android:layout_width="match_parent"
            android:layout_height="56dp"
            android:text="@string/ver_carrito"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textColor="@color/texto_blanco"
            android:backgroundTint="@color/rojo"
            app:cornerRadius="28dp"
            android:elevation="2dp" />
    </LinearLayout>
</LinearLayout>